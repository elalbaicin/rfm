<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Tools for RFM (recency, frequency and monetary value) analysis. 
    Generate RFM score from both transaction and customer level data. Visualize the
    relationship between recency, frequency and monetary value using heatmap, 
    histograms, bar charts and scatter plots. Includes a shiny app for 
    interactive segmentation. References:
    i. Blattberg R.C., Kim BD., Neslin S.A (2008) &lt;doi:10.1007/978-0-387-72579-6_12&gt;.">
<title>Recency, Frequency and Monetary Value Analysis â€¢ rfm</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Recency, Frequency and Monetary Value Analysis">
<meta property="og:description" content="Tools for RFM (recency, frequency and monetary value) analysis. 
    Generate RFM score from both transaction and customer level data. Visualize the
    relationship between recency, frequency and monetary value using heatmap, 
    histograms, bar charts and scatter plots. Includes a shiny app for 
    interactive segmentation. References:
    i. Blattberg R.C., Kim BD., Neslin S.A (2008) &lt;doi:10.1007/978-0-387-72579-6_12&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-inverse navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">rfm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="index.html">Home</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-guides">Guides</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-guides">
    <a class="dropdown-item" href="articles/rfm-introduction.html">RFM - Introduction</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <a class="external-link dropdown-item" href="https://blog.rsquaredacademy.com/customer-segmentation-using-rfm-analysis/">Blog</a>
    <a class="external-link dropdown-item" href="https://blog.rsquaredacademy.com/rfm-0-2-1/">Version 0.2.1</a>
    <a class="external-link dropdown-item" href="https://blog.rsquaredacademy.com/introducing-rfm/">Version 0.2.0</a>
    <a class="dropdown-item" href="news/index.html">Change log</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rsquaredacademy/rfm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="rfm">rfm<a class="anchor" aria-label="anchor" href="#rfm"></a>
</h1></div>
<!-- badges: start -->

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Tools for customer segmentation using RFM (recency, frequency and monetary) analysis.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install rfm from CRAN</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rfm"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or the development version from GitHub</span></span>
<span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu">pak</span><span class="op">(</span><span class="st">"rsquaredacademy/rfm"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p><strong>RFM</strong> (recency, frequency, monetary) analysis is a behavior based technique used to segment customers by examining their transaction history such as:</p>
<ul>
<li>how recently a customer has purchased (recency)</li>
<li>how often they purchase (frequency)</li>
<li>how much the customer spends (monetary)</li>
</ul>
<p>It is based on the marketing axiom that <strong>80% of your business comes from 20% of your customers</strong>. RFM analysis helps to identify customers who are more likely to respond to promotions by segmenting them into various categories.</p>
<p>To calculate the RFM score we need the following info for each customer:</p>
<ul>
<li>a unique customer id</li>
<li>date of transaction/order</li>
<li>transaction/order amount</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># analysis date</span></span>
<span><span class="va">analysis_date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">'2006-12-31'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># generate rfm score</span></span>
<span><span class="va">rfm_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rfm_table_order.html">rfm_table_order</a></span><span class="op">(</span><span class="va">rfm_data_orders</span>, <span class="va">customer_id</span>, <span class="va">order_date</span>,</span>
<span><span class="va">revenue</span>, <span class="va">analysis_date</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># rfm score</span></span>
<span><span class="va">rfm_result</span></span>
<span><span class="co">#&gt; # A tibble: 995 x 11</span></span>
<span><span class="co">#&gt;   customer_id    recency_days transaction_count amount recency_score</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                 &lt;dbl&gt;             &lt;int&gt;  &lt;int&gt;         &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 Abbey O'Reilly          205                 6    472             3</span></span>
<span><span class="co">#&gt; 2 Add Senger              140                 3    340             4</span></span>
<span><span class="co">#&gt; 3 Aden Lesch              194                 4    405             3</span></span>
<span><span class="co">#&gt; 4 Aden Murphy              98                 7    596             5</span></span>
<span><span class="co">#&gt; 5 Admiral Senger          132                 5    448             4</span></span>
<span><span class="co">#&gt; # i 990 more rows</span></span>
<span><span class="co">#&gt; # i 6 more variables: frequency_score &lt;int&gt;, monetary_score &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   rfm_score &lt;dbl&gt;, first_name &lt;chr&gt;, last_name &lt;chr&gt;, email &lt;chr&gt;</span></span>
<span></span>
<span><span class="co"># segment names</span></span>
<span><span class="va">segment_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Champions"</span>, <span class="st">"Potential Loyalist"</span>, <span class="st">"Loyal Customers"</span>,</span>
<span>                   <span class="st">"Promising"</span>, <span class="st">"New Customers"</span>, <span class="st">"Can't Lose Them"</span>,</span>
<span>                   <span class="st">"At Risk"</span>, <span class="st">"Need Attention"</span>, <span class="st">"About To Sleep"</span>, <span class="st">"Lost"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># segment intervals</span></span>
<span><span class="va">recency_lower</span> <span class="op">&lt;-</span>   <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">recency_upper</span> <span class="op">&lt;-</span>   <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">frequency_lower</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">frequency_upper</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">monetary_lower</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">monetary_upper</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># generate segments</span></span>
<span><span class="va">segments</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rfm_segment.html">rfm_segment</a></span><span class="op">(</span><span class="va">rfm_result</span>, <span class="va">segment_names</span>, <span class="va">recency_lower</span>,</span>
<span><span class="va">recency_upper</span>, <span class="va">frequency_lower</span>, <span class="va">frequency_upper</span>, <span class="va">monetary_lower</span>,</span>
<span><span class="va">monetary_upper</span><span class="op">)</span></span>
<span></span>
<span><span class="va">segments</span></span>
<span><span class="co">#&gt; # A tibble: 995 x 12</span></span>
<span><span class="co">#&gt;   customer_id    segment         rfm_score transaction_count recency_days amount</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;          &lt;chr&gt;               &lt;dbl&gt;             &lt;int&gt;        &lt;dbl&gt;  &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 Abbey O'Reilly Potential Loya~       343                 6          205    472</span></span>
<span><span class="co">#&gt; 2 Add Senger     New Customers         412                 3          140    340</span></span>
<span><span class="co">#&gt; 3 Aden Lesch     Loyal Customers       323                 4          194    405</span></span>
<span><span class="co">#&gt; 4 Aden Murphy    Potential Loya~       544                 7           98    596</span></span>
<span><span class="co">#&gt; 5 Admiral Senger Potential Loya~       433                 5          132    448</span></span>
<span><span class="co">#&gt; # i 990 more rows</span></span>
<span><span class="co">#&gt; # i 6 more variables: recency_score &lt;int&gt;, frequency_score &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   monetary_score &lt;int&gt;, first_name &lt;chr&gt;, last_name &lt;chr&gt;, email &lt;chr&gt;</span></span></code></pre></div>
<div class="section level3">
<h3 id="plotting-engines">Plotting Engines<a class="anchor" aria-label="anchor" href="#plotting-engines"></a>
</h3>
<p><code>rfm</code> supports the following plotting engines:</p>
<ul>
<li><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></li>
<li><a href="https://plotly.com/r/" class="external-link">plotly</a></li>
<li><a href="https://gganimate.com" class="external-link">gganimate</a></li>
</ul>
</div>
<div class="section level3">
<h3 id="shiny-app">Shiny App<a class="anchor" aria-label="anchor" href="#shiny-app"></a>
</h3>
<p><code>rfm</code> includes a shiny app for interactive RFM analysis. In the latest release, we have added project management features to allow users to save/clone their projects. Below is a quick demo of the shiny app:</p>
</div>
</div>
<div class="section level2">
<h2 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a>
</h2>
<ul>
<li><a href="https://rsquared-academy.thinkific.com/courses/customer-segmentation-using-rfm-analysis" class="external-link">Online Course</a></li>
<li><a href="https://www.youtube.com/watch?v=275X7yaSsoQ" class="external-link">YouTube Tutorial</a></li>
<li><a href="https://blog.rsquaredacademy.com/customer-segmentation-using-rfm-analysis/" class="external-link">Blog</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="getting-help">Getting Help<a class="anchor" aria-label="anchor" href="#getting-help"></a>
</h2>
<p>If you encounter a bug, please file a minimal reproducible example using <a href="https://reprex.tidyverse.org/index.html" class="external-link">reprex</a> on github. For questions and clarifications, use <a href="https://stackoverflow.com/" class="external-link">StackOverflow</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=rfm" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/rsquaredacademy/rfm/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/rsquaredacademy/rfm/issues" class="external-link">Report a bug</a></li>
<li><a href="https://pkgs.rsquaredacademy.com" class="external-link">Our R packages</a></li>
<li><a href="https://blog.rsquaredacademy.com" class="external-link">Read our blog</a></li>
<li><a href="https://ebooks.rsquaredacademy.com" class="external-link">Our ebooks</a></li>
<li><a href="https://www.rsquaredacademy.com" class="external-link">Online courses</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="SUPPORT.html">Getting help</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rfm</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.aravindhebbali.com" class="external-link">Aravind Hebbali</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-9220-9669" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=rfm" class="external-link"><img src="https://www.r-pkg.org/badges/version/rfm" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://github.com/rsquaredacademy/rfm/actions" class="external-link"><img src="https://github.com/rsquaredacademy/rfm/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://app.codecov.io/github/rsquaredacademy/rfm?branch=master" class="external-link"><img src="https://img.shields.io/codecov/c/github/rsquaredacademy/rfm/master.svg" alt="Coverage Status"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://www.aravindhebbali.com" class="external-link">Aravind Hebbali</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
